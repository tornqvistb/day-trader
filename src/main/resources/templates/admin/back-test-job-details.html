<!DOCTYPE html>

<html lang="sv" class="js" xmlns:th="http://www.thymeleaf.org">

<meta charset="utf-8" />
<head th:include="head" th:remove="tag" />

<body>
	<div th:include="header" th:remove="tag"></div>
	<div class="container">
		<h2>Administration</h2>
		
		
		<hr />
		<ul class="nav nav-pills">
		  <li class="nav-item">
		    <a class="nav-link" th:href="@{/admin/start}">Admin - start</a>
		  </li>
		  <li class="nav-item">
		    <a class="nav-link active" th:href="@{/admin/backtestjob}">Historiktest - jobb</a>
		  </li>
		  <li class="nav-item">
		    <a class="nav-link" th:href="@{/admin/strategies}">Strategier</a>
		  </li>
		  <li class="nav-item">
		    <a class="nav-link" th:href="@{/admin/users}">Användare</a>
		  </li>
		  <li class="nav-item">
		    <a class="nav-link" th:href="@{/admin/sysconfig}">Systemkonfiguration</a>
		  </li>
		</ul>
	</div>
	<hr />
	<div class="container">
		<a class="btn btn-info" th:href="@{/admin/backtestjob}">❮ Tillbaka</a>
		<br /><br />		
		<h3 th:text="${'Detaljer för ' + backTestJob.name}"></h3>
		<span><strong th:text="${backTestJob.statusReadable}"></strong></span> <span th:text="${backTestJob.executionDate}"></span>
		<hr />
		<h4>Ingående historiktester</h4>
		<hr />
		<!-- 
		<table class="table table-striped table-responsive">
			<thead>			
				<tr>
					<th>Id</th>
					<th>Startdatum</th>
					<th>Slutdatum</th>
					<th>Aktie</th>
					<th>Belopp</th>
					<th>Strategi</th>
					<th>Slutvärde</th>
					<th>Värdeförändring (kr)</th>
					<th>Värdeförändring (%)</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="input : ${backTestJob.inputList}">
					<td th:text="${input.id}">1</td>
					<td th:text="${input.startDateReadable}">2017-01-01</td>
					<td th:text="${input.endDateReadable}">2018-01-01</td>
					<td th:text="${input.share.description}">ABB</td>
					<td th:text="${input.amount}">1000</td>
					<td th:text="${input.strategy.description}">Kortsiktig</td>
					<td th:text="${input.backTestResult.endValue}">1000</td>
					<td th:text="${input.backTestResult.profitAmount}">100</td>
					<td th:text="${input.backTestResult.profitPercentage}">10</td>
				</tr>
			</tbody>
		</table>
		 -->		
	</div>
	
	<div class="container" th:each="input : ${backTestJob.inputList}">
		<h5 th:text="${input.share.description}"></h5>
		<table class="table table-striped table-responsive">
			<thead>			
				<tr>
					<th>Id</th>
					<th>Startdatum</th>
					<th>Slutdatum</th>
					<th>Aktie</th>
					<th>Belopp</th>
					<th>Strategi</th>
					<th>Slutvärde</th>
					<th>Värdeförändring (kr)</th>
					<th>Värdeförändring (%)</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td th:text="${input.id}">1</td>
					<td th:text="${input.startDateReadable}">2017-01-01</td>
					<td th:text="${input.endDateReadable}">2018-01-01</td>
					<td th:text="${input.share.description}">ABB</td>
					<td th:text="${input.amount}">1000</td>
					<td th:text="${input.strategy.description}">Kortsiktig</td>
					<td th:text="${input.backTestResult.endValue}">1000</td>
					<td th:text="${input.backTestResult.profitAmount}">100</td>
					<td th:text="${input.backTestResult.profitPercentage}">10</td>
				</tr>
			</tbody>
		</table>		
		<button type="button" class="btn btn-info" data-toggle="collapse" data-target="#transactions">Visa transaktioner ❮</button>	
  		<div id="transactions" class="collapse">
			<table class="table table-striped table-responsive">
				<thead>			
					<tr>
						<th>Tidpunkt</th>
						<th>Köp/Sälj</th>
						<th>Kurs</th>
						<th>Antal aktier</th>
						<th>Summa</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="transaction : ${input.backTestResult.transactions}">
						<td th:text="${transaction.transactionDate}">2018-05-21</td>
						<td th:text="${transaction.type}">Köp</td>
						<td th:text="${transaction.rate}">100</td>
						<td th:text="${transaction.noOfShares}">10</td>
						<td th:text="${transaction.amount}">100</td>
					</tr>
				</tbody>
			</table>		  			
  		</div>
  		<hr />
	</div>
	
	<div class="container">
  		<h2>Simple Collapsible</h2>
  		<p>Click on the button to toggle between showing and hiding content.</p>
  		<button type="button" class="btn btn-info" data-toggle="collapse" data-target="#demo">Simple collapsible</button>
  		<div id="demo" class="collapse">
    		Lorem ipsum dolor sit amet, consectetur adipisicing elit,
    		sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
    		quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
  		</div>
	</div>
	
	<div th:include="footer" th:remove="tag" />
</body>
</html>